<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="theme-color" content="#8b1538">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>Complete History of Indian Sarees ‚Äî Interactive Timeline | TheIndianSarees</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .page {
            padding-top: 90px;
            background: linear-gradient(135deg, #fef7f0 0%, #f8f4f0 100%);
            min-height: 100vh;
        }
        
        .breadcrumb {
            font-size: 0.9rem;
            color: #8b1538;
            margin: 1rem 0 0.5rem;
            font-weight: 500;
        }
        
        .breadcrumb a {
            color: #d4af37;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .breadcrumb a:hover {
            color: #8b1538;
        }
        
        .history-hero {
            text-align: center;
            padding: 3rem 0;
            background: linear-gradient(135deg, rgba(139, 21, 56, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%);
            border-radius: 20px;
            margin-bottom: 3rem;
        }
        
        .history-hero h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #8b1538;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .history-hero p {
            color: #8b1538;
            max-width: 800px;
            font-weight: 500;
            font-size: 1.1rem;
            margin: 0 auto;
        }
        
        .timeline-container {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 15px 35px rgba(139, 21, 56, 0.1);
            border: 2px solid #d4af37;
            margin-bottom: 3rem;
        }
        
        .timeline-meta {
            position: sticky;
            top: 70px;
            z-index: 10;
            background: linear-gradient(135deg, #8b1538 0%, #a01e42 100%);
            color: white;
            border-radius: 15px;
            padding: 1rem 1.5rem;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 8px 25px rgba(139, 21, 56, 0.3);
        }
        
        .meta-current {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .meta-progress {
            background: rgba(212, 175, 55, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
        }
        
        .timeline {
            position: relative;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            white-space: nowrap;
            padding: 20px 10px 30px 10px;
        }
        
        .timeline-track {
            position: relative;
            height: 6px;
            background: linear-gradient(90deg, #d4af37 0%, #8b1538 100%);
            border-radius: 9999px;
            margin: 24px 0;
            min-width: 1200px;
        }
        
        .timeline-fill {
            position: absolute;
            top: 0;
            left: 0;
            height: 6px;
            background: linear-gradient(90deg, #8b1538 0%, #d4af37 100%);
            border-radius: 9999px;
            width: 0;
            transition: width 0.3s ease;
        }
        
        .timeline-points {
            position: relative;
        }
        
        .timeline-point {
            position: absolute;
            top: -12px;
            transform: translateX(-50%);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #8b1538 0%, #d4af37 100%);
            border: 3px solid white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(139, 21, 56, 0.3);
        }
        
        .timeline-point:hover {
            transform: translateX(-50%) scale(1.2);
            box-shadow: 0 6px 20px rgba(139, 21, 56, 0.5);
        }
        
        .timeline-point.active {
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            transform: translateX(-50%) scale(1.1);
        }
        
        .timeline-label {
            position: absolute;
            top: -45px;
            transform: translateX(-50%);
            font-size: 0.9rem;
            color: #8b1538;
            white-space: nowrap;
            font-weight: 600;
            background: rgba(255, 255, 255, 0.9);
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            border: 1px solid #d4af37;
        }
        
        .timeline-details {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 2rem;
            align-items: start;
            padding: 2rem 0;
        }
        
        .detail-card {
            background: linear-gradient(135deg, #ffffff 0%, #fef7f0 100%);
            border: 2px solid #d4af37;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 8px 25px rgba(139, 21, 56, 0.1);
        }
        
        .detail-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #8b1538;
            font-weight: 700;
        }
        
        .detail-card p {
            color: #8b1538;
            line-height: 1.7;
            font-size: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .detail-citations {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #d4af37;
        }
        
        .detail-citations a {
            color: #8b1538;
            text-decoration: none;
            margin-right: 1rem;
            font-size: 0.9rem;
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            display: inline-block;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }
        
        .detail-citations a:hover {
            background: linear-gradient(135deg, #8b1538 0%, #a01e42 100%);
            transform: translateY(-2px);
        }
        
        .detail-media {
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid #d4af37;
            background: linear-gradient(135deg, #fef7f0 0%, #f8f4f0 100%);
            min-height: 300px;
            display: grid;
            place-items: center;
            color: #8b1538;
            text-align: center;
            padding: 1rem;
            box-shadow: 0 8px 25px rgba(139, 21, 56, 0.1);
        }
        
        .timeline-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        .timeline-controls .btn {
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .kbd {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
            background: linear-gradient(135deg, #d4af37 0%, #b8860b 100%);
            color: white;
            border-radius: 8px;
            padding: 4px 8px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .saree-facts {
            background: linear-gradient(135deg, #8b1538 0%, #a01e42 100%);
            color: white;
            padding: 3rem;
            border-radius: 20px;
            margin: 3rem 0;
            text-align: center;
        }
        
        .saree-facts h2 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: #d4af37;
        }
        
        .facts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .fact-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 15px;
            border: 2px solid rgba(212, 175, 55, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .fact-number {
            font-size: 3rem;
            font-weight: 700;
            color: #d4af37;
            margin-bottom: 0.5rem;
        }
        
        .fact-label {
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        @media (max-width: 900px) {
            .timeline-details {
                grid-template-columns: 1fr;
            }
            
            .history-hero h1 {
                font-size: 2.5rem;
            }
            
            .timeline-meta {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-store"></i>
                <span>TheIndianSarees</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html#home" class="nav-link">Home</a></li>
                <li><a href="index.html#states" class="nav-link">States</a></li>
                <li><a href="state-sarees.html" class="nav-link">State Sarees</a></li>
                <li><a href="index.html#collections" class="nav-link">Collections</a></li>
                <li><a href="history.html" class="nav-link" style="color: #d4af37; background: rgba(212, 175, 55, 0.1);">History</a></li>
                <li><a href="index.html#about" class="nav-link">About</a></li>
                <li><a href="index.html#contact" class="nav-link">Contact</a></li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <main class="page">
        <div class="container">
            <div class="breadcrumb"><a href="index.html">Home</a> / History</div>
            
            <section class="history-hero">
                <h1>Complete History of Indian Sarees</h1>
                <p>Journey through 5,000+ years of India's most iconic garment. From ancient Indus Valley drapes to contemporary global fashion, explore the evolution of the saree through interactive timeline and discover how this unstitched wonder became a symbol of Indian culture worldwide.</p>
            </section>

            <!-- Saree Facts Section -->
            <section class="saree-facts">
                <h2>üßµ Fascinating Saree Facts</h2>
                <div class="facts-grid">
                    <div class="fact-card">
                        <div class="fact-number">5000+</div>
                        <div class="fact-label">Years of History</div>
                    </div>
                    <div class="fact-card">
                        <div class="fact-number">100+</div>
                        <div class="fact-label">Draping Styles</div>
                    </div>
                    <div class="fact-card">
                        <div class="fact-number">28</div>
                        <div class="fact-label">Indian States</div>
                    </div>
                    <div class="fact-card">
                        <div class="fact-number">6-9</div>
                        <div class="fact-label">Yards of Fabric</div>
                    </div>
                </div>
            </section>

            <section class="timeline-container" aria-label="Interactive timeline of Indian sarees">
                <div class="timeline-meta" aria-live="polite">
                    <div class="meta-current" id="metaCurrent">Indus Valley ¬∑ c. 2800‚Äì1800 BCE</div>
                    <div class="meta-progress" id="metaProgress">0%</div>
                </div>
                <div class="timeline" id="timeline" tabindex="0" aria-describedby="timelineHint">
                    <div class="timeline-track">
                        <div class="timeline-fill" id="timelineFill"></div>
                        <div class="timeline-points" id="timelinePoints"></div>
                    </div>
                </div>
                <div id="timelineHint" class="sr-only" aria-hidden="true">Use Left and Right arrow keys to navigate events. Press Enter to select.</div>

                <div class="timeline-details" id="timelineDetails">
                    <div class="detail-card">
                        <h3 id="detailTitle">Indus Valley Origins (c. 2800‚Äì1800 BCE)</h3>
                        <p id="detailText">The earliest evidence of draped garments in India comes from the Indus Valley Civilization. Terracotta figurines from Mohenjo-daro and Harappa show women wearing unstitched cloth draped around the body, similar to modern sarees. Cotton cultivation was already advanced, with evidence of natural dyes like madder and indigo being used. The continuous cloth form of the saree likely evolved from these early draped garments.</p>
                        <div class="timeline-controls">
                            <button class="btn btn-secondary" id="prevBtn" aria-label="Previous event">‚Üê Previous</button>
                            <button class="btn btn-primary" id="nextBtn" aria-label="Next event">Next ‚Üí</button>
                            <span style="margin-left:auto; color:#8b1538; font-weight: 600;">Tip: Use <span class="kbd">‚Üê</span> <span class="kbd">‚Üí</span> keys</span>
                        </div>
                    </div>
                    <div class="detail-media" id="detailMedia">Image/video placeholder ‚Äî add artifacts or weave close-ups here.</div>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer" style="margin-top:40px;">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo"><i class="fas fa-store"></i><span>TheIndianSarees</span></div>
                    <p>One-stop destination for iconic sarees from every Indian state.</p>
                </div>
                <div class="footer-section">
                    <h3>Explore</h3>
                    <ul>
                        <li><a href="index.html#collections">Collections</a></li>
                        <li><a href="state-sarees.html">State Sarees</a></li>
                        <li><a href="history.html">History</a></li>
                        <li><a href="index.html#about">About</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <ul>
                        <li><a href="#">Help Center</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Newsletter</h3>
                    <p>Subscribe to get stories on weaves and artisans.</p>
                    <div class="newsletter-form">
                        <input type="email" placeholder="Enter your email">
                        <button type="submit" class="btn btn-primary">Subscribe</button>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 TheIndianSarees. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
    const TIMELINE_EVENTS = [
        { id: 'indus', year: -2500, label: 'Indus Valley', title: 'Indus Valley Origins (c. 2800‚Äì1800 BCE)', 
          text: 'The earliest evidence of draped garments in India comes from the Indus Valley Civilization. Terracotta figurines from Mohenjo-daro and Harappa show women wearing unstitched cloth draped around the body, similar to modern sarees. Cotton cultivation was already advanced, with evidence of natural dyes like madder and indigo being used. The continuous cloth form of the saree likely evolved from these early draped garments.',
          img: 'https://images.unsplash.com/photo-1600000001420-archaeology?auto=format&fit=crop&w=1200&q=80', alt: 'Ancient terracotta figurine with draped cloth',
          sources: [ {text:'Museum of Indian Textiles', url:'#'}, {text:'Archaeology Notes', url:'#'} ] },
        
        { id: 'vedic', year: -800, label: 'Vedic Age', title: 'Vedic Age Drapes (c. 1500‚Äì500 BCE)', 
          text: 'Vedic texts mention two main garments: antariya (lower cloth) and uttariya (upper cloth). The Rigveda describes women wearing a single piece of cloth draped around the body. Regional variations began to emerge in length, pleating techniques, and wrapping styles across different parts of the subcontinent. The concept of the pallu (decorative end) also started developing during this period.',
          img: 'https://images.unsplash.com/photo-1594235049123-vedic?auto=format&fit=crop&w=1200&q=80', alt: 'Illustration of Vedic attire and draped garments',
          sources: [ {text:'Vedic Clothing References', url:'#'} ] },
        
        { id: 'mauryan', year: -200, label: 'Mauryan', title: 'Mauryan Empire Textiles (c. 322‚Äì185 BCE)', 
          text: 'The Mauryan period saw significant advancement in textile production and trade. Kautilya\'s Arthashastra mentions various types of cloth and weaving techniques. Silk production began in India during this time, and the empire established trade routes that would later distribute Indian textiles across Asia. Courtly attire became more elaborate with intricate borders and patterns.',
          img: 'https://images.unsplash.com/photo-1549880338-65ddcdfd017b?auto=format&fit=crop&w=1200&q=80', alt: 'Ancient sculpture showing draped clothing',
          sources: [ {text:'Mauryan Textile Trade', url:'#'} ] },
        
        { id: 'gupta', year: 400, label: 'Gupta', title: 'Gupta Era Elegance (c. 320‚Äì550 CE)', 
          text: 'The Gupta period is considered the golden age of Indian art and culture. Courtly arts depict women wearing fine cottons and early silks with ornate borders. Jewelry and textiles co-evolved, with intricate patterns and motifs becoming more sophisticated. Dyeing and resist techniques advanced significantly, and the concept of regional specializations in weaving began to emerge.',
          img: 'https://images.unsplash.com/photo-1549880338-65ddcdfd017b?auto=format&fit=crop&w=1200&q=80', alt: 'Ancient sculpture showing draped clothing',
          sources: [ {text:'Gupta Art & Attire', url:'#'} ] },
        
        { id: 'southindian', year: 800, label: 'South Indian', title: 'South Indian Weaving Centers (c. 6th‚Äì12th C.)', 
          text: 'Major weaving centers like Kanchipuram, Madurai, and Thanjavur emerged in South India. The famous Kanchipuram silk sarees began their journey during this period. Temple architecture influenced textile designs, with motifs from temple sculptures being incorporated into saree patterns. The concept of temple borders and contrast pallus became popular.',
          img: 'https://images.unsplash.com/photo-1527515637462-cff94eecc1ac?auto=format&fit=crop&w=1200&q=80', alt: 'Traditional handloom weaving',
          sources: [ {text:'South Indian Textile Heritage', url:'#'} ] },
        
        { id: 'medieval', year: 1200, label: 'Medieval', title: 'Medieval Weaves & Trade (c. 8th‚Äì16th C.)', 
          text: 'Centers like Kanchipuram, Banaras, Paithan, and Bengal matured into major textile hubs. Trade routes distributed Indian textiles across Asia, Middle East, and Europe. The famous Banarasi brocades and Bengal muslins gained international recognition. Regional specializations became more pronounced, with each area developing its unique weaving techniques and motifs.',
          img: 'https://images.unsplash.com/photo-1527515637462-cff94eecc1ac?auto=format&fit=crop&w=1200&q=80', alt: 'Traditional handloom weaving',
          sources: [ {text:'Trade Routes & Textiles', url:'#'} ] },
        
        { id: 'mughal', year: 1650, label: 'Mughal', title: 'Mughal Patronage (16th‚Äì18th C.)', 
          text: 'The Mughal period brought unprecedented sophistication to Indian textiles. Brocade (kinkhab), zari borders, and jamdani flourished under royal ateliers. Floral butas, jaals, and meenakari detailing influenced sari aesthetics. The Mughals introduced Persian and Central Asian motifs, creating a unique Indo-Islamic textile tradition. Royal workshops produced exquisite pieces that combined Indian weaving techniques with Islamic design sensibilities.',
          img: 'https://images.unsplash.com/photo-1548786811-ffa96f3b71a0?auto=format&fit=crop&w=1200&q=80', alt: 'Brocade textile with intricate floral motifs',
          sources: [ {text:'Mughal Textiles Overview', url:'#'} ] },
        
        { id: 'maratha', year: 1700, label: 'Maratha', title: 'Maratha Empire Textiles (c. 1674‚Äì1818)', 
          text: 'The Maratha period saw the development of distinctive textile traditions in Maharashtra. Paithani sarees gained prominence, known for their peacock motifs and gold borders. The Marathas patronized local weavers and encouraged the development of regional styles. This period also saw the emergence of the famous Maharashtrian nauvari saree style.',
          img: 'https://images.unsplash.com/photo-1519682337058-a94d519337bc?auto=format&fit=crop&w=1200&q=80', alt: 'Vintage textile tools and yarn',
          sources: [ {text:'Maratha Textile Patronage', url:'#'} ] },
        
        { id: 'colonial', year: 1850, label: 'Colonial', title: 'Colonial Disruptions & Adaptations (18th‚Äì20th C.)', 
          text: 'British colonial rule brought both challenges and opportunities for Indian textiles. Industrial imports from Manchester depressed handloom demand, but the Swadeshi movement revived interest in khadi and traditional weaves. Urban sari silhouettes began to standardize with pleats, pallu, and blouse becoming common. This period also saw the documentation of traditional weaving techniques and the establishment of textile museums.',
          img: 'https://images.unsplash.com/photo-1519682337058-a94d519337bc?auto=format&fit=crop&w=1200&q=80', alt: 'Vintage textile tools and yarn',
          sources: [ {text:'Swadeshi & Handlooms', url:'#'} ] },
        
        { id: 'independence', year: 1947, label: 'Independence', title: 'Independence & Revival (1947‚Äì1970s)', 
          text: 'Post-independence India focused on reviving traditional textile arts. The government established weavers\' cooperatives and textile museums. Designers like Ritu Kumar and others began documenting and promoting traditional weaves. The Handloom Board was established to support weavers, and traditional saree clusters like Banarasi, Kanjeevaram, Chanderi, and Jamdani received official recognition and support.',
          img: 'https://images.unsplash.com/photo-1562183241-b937e95585b1?auto=format&fit=crop&w=1200&q=80', alt: 'Weaver working at a loom',
          sources: [ {text:'Post-Independence Textile Revival', url:'#'} ] },
        
        { id: 'modern', year: 1980, label: 'Modern Era', title: 'Modern Design Evolution (1980s‚Äì2000s)', 
          text: 'The 1980s and 90s saw a renaissance in Indian fashion with designers like Sabyasachi Mukherjee, Manish Malhotra, and others bringing sarees to the global stage. Bollywood played a significant role in popularizing different regional saree styles. The concept of fusion wear emerged, combining traditional sarees with contemporary styling. International fashion weeks began featuring Indian designers and their saree collections.',
          img: 'https://images.unsplash.com/photo-1603575449299-cb2d3b4f5f72?auto=format&fit=crop&w=1200&q=80', alt: 'Modern saree styling on runway',
          sources: [ {text:'Indian Fashion Revolution', url:'#'} ] },
        
        { id: 'contemporary', year: 2020, label: 'Today', title: 'Contemporary Revivals (2000s‚ÄìToday)', 
          text: 'Today\'s saree landscape is marked by sustainability, innovation, and global reach. Natural dyes, ethical silk (eri), and contemporary drape experiments reach global audiences via digital marketplaces. Young designers are reinterpreting traditional weaves for modern consumers. The saree has become a symbol of Indian identity globally, worn by celebrities and fashion enthusiasts worldwide. Digital platforms have made regional sarees accessible to a global audience.',
          img: 'https://images.unsplash.com/photo-1603575449299-cb2d3b4f5f72?auto=format&fit=crop&w=1200&q=80', alt: 'Modern saree styling on runway',
          sources: [ {text:'Sustainable Silk & Natural Dyes', url:'#'} ] }
    ];

    const minYear = -2500, maxYear = 2025;
    function yearToPercent(y){ return ((y - minYear) / (maxYear - minYear)) * 100; }

    const pointsEl = document.getElementById('timelinePoints');
    const fillEl = document.getElementById('timelineFill');
    const titleEl = document.getElementById('detailTitle');
    const textEl = document.getElementById('detailText');
    const mediaEl = document.getElementById('detailMedia');
    const metaCurrent = document.getElementById('metaCurrent');
    const metaProgress = document.getElementById('metaProgress');
    const citationsEl = document.createElement('div');
    citationsEl.className = 'detail-citations';
    document.getElementById('timelineDetails').querySelector('.detail-card').appendChild(citationsEl);
    const timelineEl = document.getElementById('timeline');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    let activeIndex = 0;

    function renderPoints(){
        pointsEl.innerHTML = '';
        TIMELINE_EVENTS.forEach((ev, idx) => {
            const left = yearToPercent(ev.year);
            const label = document.createElement('div');
            label.className = 'timeline-label';
            label.style.left = left + '%';
            label.textContent = ev.label;

            const dot = document.createElement('button');
            dot.className = 'timeline-point';
            dot.style.left = left + '%';
            dot.setAttribute('data-index', idx);
            dot.setAttribute('aria-label', ev.title);
            dot.addEventListener('click', () => setActive(idx, true));
            dot.addEventListener('mouseenter', () => dot.classList.add('hover'));
            dot.addEventListener('mouseleave', () => dot.classList.remove('hover'));

            pointsEl.appendChild(label);
            pointsEl.appendChild(dot);
        });
    }

    function setActive(idx, smooth){
        activeIndex = Math.max(0, Math.min(TIMELINE_EVENTS.length - 1, idx));
        const ev = TIMELINE_EVENTS[activeIndex];
        titleEl.textContent = ev.title;
        textEl.textContent = ev.text;
        if (ev.img) {
            const trySources = [
                `assets/history/${ev.id}.jpg`,
                `assets/history/${ev.id}.png`,
                `assets/history/${ev.id}.svg`,
                ev.img
            ];
            mediaEl.innerHTML = `<img id="timelineImg" src="${trySources[0]}" alt="${ev.alt || ev.title}" loading="lazy" decoding="async" style="width:100%;height:100%;object-fit:cover;"/>`;
            const imgEl = document.getElementById('timelineImg');
            let idx = 0;
            imgEl.onerror = () => {
                idx += 1;
                if (idx < trySources.length) {
                    imgEl.src = trySources[idx];
                }
            };
        } else {
            mediaEl.textContent = ev.label + ' ‚Äî add your media here';
        }
        // Meta: current and progress
        metaCurrent.textContent = `${ev.label} ¬∑ ${ev.title.replace(/^[^()]+\(/, '(')}`;
        const pct = yearToPercent(ev.year);
        metaProgress.textContent = Math.round(pct) + '%';
        // Citations
        citationsEl.innerHTML = '';
        if (ev.sources && ev.sources.length) {
            ev.sources.forEach(s => {
                const a = document.createElement('a');
                a.href = s.url;
                a.target = '_blank';
                a.rel = 'noopener noreferrer';
                a.textContent = s.text;
                citationsEl.appendChild(a);
            });
        }
        document.querySelectorAll('.timeline-point').forEach((p, i) => p.classList.toggle('active', i === activeIndex));
        const pct = yearToPercent(ev.year);
        fillEl.style.width = pct + '%';
        if (smooth) {
            const track = pointsEl.parentElement.getBoundingClientRect();
            const scroller = timelineEl;
            const targetX = (pct/100) * pointsEl.parentElement.scrollWidth - track.width * 0.5;
            scroller.scrollTo({ left: Math.max(0, targetX), behavior: 'smooth' });
        }
    }

    function go(delta){ setActive(activeIndex + delta, true); }

    timelineEl.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight') { e.preventDefault(); go(1); }
        if (e.key === 'ArrowLeft')  { e.preventDefault(); go(-1); }
        if (e.key === 'Home')       { e.preventDefault(); setActive(0, true); }
        if (e.key === 'End')        { e.preventDefault(); setActive(TIMELINE_EVENTS.length - 1, true); }
    });
    prevBtn.addEventListener('click', () => go(-1));
    nextBtn.addEventListener('click', () => go(1));

    // Basic swipe support
    let startX = 0; let swiping = false;
    timelineEl.addEventListener('touchstart', (e) => { swiping = true; startX = e.touches[0].clientX; }, { passive: true });
    timelineEl.addEventListener('touchend',   (e) => {
        if (!swiping) return; swiping = false;
        const dx = (e.changedTouches[0].clientX - startX);
        if (Math.abs(dx) > 30) { if (dx < 0) go(1); else go(-1); }
    }, { passive: true });

    renderPoints();
    setActive(0, false);
    </script>
    <script src="script.js"></script>
</body>
</html>